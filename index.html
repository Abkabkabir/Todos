<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="Stylesheet" href="style.css">
</head>

<body>

    <div class="container">

        <h1 id="title">todos</h1>

        <div id="header">
            <div id="input-container">
                <input autocomplete="off" type="text" placeholder="Title" id="todo-input">
                <label for="name" class="form__label">Title</label>
            </div>
            <button id="todo-add-btn">Add</button>
        </div>

        <div>
            <ul id="todos-list">
                <!--<li>
               <input class="checkbox" type="checkbox"
               <p class="paragraph">Test</p>
               <span class="remove">&cross;</span>
             </li>-->
            </ul>

        </div>

    </div>

    <script>
        var list = document.getElementById("todos-list");
        var addBtn = document.getElementById("todos-add-btn");
        var addInput = document.getElementById("todos-input");

        function createTodo() {

            var text = addInput.ariaValueMax;

            if (text == "") {
                return;
            }

            var li = document.createElement("li");

            var checkbox = document.createElement("input");
            checkbox.classList.add("checkbox");
            checkbox.type = "checkbox";

            var paragraph = document.createElement("p");
            paragraph.classList.add("paragraph");
            paragraph.textContent = text;

            var remove = document.createElement("span");
            remove.classListlist.add("remove");
            remove.innerHTML = "&cross";

            li.appendChild(checkbox);
            li.appendChild(checkbox);
            li.appendChild(checkbox);
            list.appendChild(li);

            addInput.value = "";

        }

        function showEditInput(paragraphElement) {

            var editInput = document.getElementsByName("editInput")[0];
            if (editInput) {
                editInput.remove();
            }

            var input = document.creatElement("input");
            input.type = "text";
            input.name = "editInput";
            input.value = paragraphElement.textContent;
            input.classList.add("editInput");

            paragraphElement.parentElement.appendChild(input);
            input.focus();

        }

        function updateTodo() {
            var editInput = document.getElementsByName("editInput")[0];
            if (!editInput) {
                return;
            }

            var newText = editInput.value;

            if (newText !== "") {
                var paragraph = editInput.parentElement.querySelector(".paragraph");
                paragraph.textContent = newText;
            }

            editInput.remove();

        }

        function removeTodo(removeElement) {
            removeElement.parentElement.remove();
        }

        function toggleComplete(inputElement) {
            if (inputElement.checked === false) {
                inputElement.parentElement.classList.remove("remove");

            } else {
                inputElement.parentElement.classList, remove("complete");
            }
        }

        list.addEventListener("click", function(event) {

            event.stopImmediatePropagation();

            switch (event.target.tagName) {
                case "p":
                    showEditInput();
                    break;
                case "SPAN":
                    removeTodo();
                    break;
            }
        });

        list.addEventListener("change", function(event) {
            if (event.target.tagName === "INPUT" && event.target.type ===
                "checkbox") {
                toggleComplete(event.target);
            }
        });

        list.addEventListener("keypress", function(event) {
            if (event, targetntagName-- - "INPUT" && event.target.type ===
                "text" && event.key === "Enter") {
                updateTodo();
            }
        })

        document.addEventListener("click", updateTodo);

        addBtn.addEventListener("click", function(event) {
            event.stopImmediatePropagation();
            createTodo();
        });

        addInput.addEventListener("keypress", function(event) {
            if (event.key === "Enter") {
                createTodo();
            }
        });
    </script>

</body>

</html>